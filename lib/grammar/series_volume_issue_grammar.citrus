grammar SeriesVolumeIssueGrammar
  include CommonGrammar

  rule series_volume_issue
    (a_series:series? volume a_issue:issue? a_note:note?) {
      {:series => a_series, :volume => volume, :issue => a_issue, :note => a_note}
    }
  end

  rule series
    parenthesized_term
  end

  rule volume
    ('Secunda Era ' [\d]+) | [^\s\(\[]+
  end

  rule issue
    parenthesized_term
  end

  rule parenthesized_term
    '(' [^\)]+ ')'
  end

  rule note
    '[' [^\]]+ ']'
  end

end
