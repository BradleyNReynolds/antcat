-content_for :head do
  =javascript_include_tag 'controllers/references/search_form/all_fields_autocompletion'
  =javascript_include_tag 'controllers/references/authors_autocompletion'
  =javascript_include_tag 'controllers/references/search_form/autocompletion_switcher'

=form_tag search_references_path, method: :get, class: "reference-search-form" do
  =select_tag "search_type", options_for_select([["Search all fields", "all"], ["Search by author(s)", "author"]], params[:search_type])
  =text_field_tag "q", params[:q], class: "typeahead", placeholder: "Search References"
  =text_field_tag "author_q", params[:author_q], placeholder: "Search References"
  =button_tag type: 'submit', name: nil, class: 'btn-search has-spinner' do
    =spinner_icon + "Go"
  =link_to "help", search_help_references_path, class: "btn-normal"
