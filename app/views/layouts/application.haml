!!!
%html{xmlns: 'http://www.w3.org/1999/xhtml', 'xml:lang' => 'en', lang: 'en'}
  %head
    %title=make_title @title
    %meta{'http-equiv' => "content-type", content: "text/html;charset=UTF-8"}
    %meta{content: "width=device-width, initial-scale=1.0", name: "viewport"}

    =csrf_meta_tag

    =javascript_include_tag 'all_pages/google_analytics' if Rails.env.production?
    =javascript_include_tag 'application'
    =javascript_include_tag 'logged_in_only' if current_user

    =stylesheet_link_tag 'foundation_and_overrides'
    =stylesheet_link_tag 'application'
    =stylesheet_link_tag 'jquery_overrides'
    =stylesheet_link_tag 'dev_css' if include_dev_css?
    =stylesheet_link_tag 'test_css' if Rails.env.test?

    %link{href: "https://fonts.googleapis.com/css?family=Montserrat", rel: "stylesheet"}>
    %link{href: "https://fonts.googleapis.com/css?family=Raleway", rel: "stylesheet"}>

    =favicon_link_tag 'favicon_96x96.png'

    =yield :head

    %script
      // HACK to make the navigation search boxes not flicker on page loads
      // due to CSS animations. See https://stackoverflow.com/a/42969608.
      "empty script tag"

    %body{id: current_controller_css_id}
      %button#feedback-button.hide-for-small-only{data: { open: "feedback_modal" }} Feedback

      .main-container
        %header#header
          .row.collapse
            .small-12.columns
              =render "navigation"
              =render "tagline"
              =render "breadcrumbs"

        %section#content
          .row.collapse
            =render "shared/flash_messages"

            .small-12.columns.collapse
              -if content_for? :application
                =yield :application
              -else
                =yield

        =yield :after_content

        %footer#taxon-browser-sticky-target-js-hook=render "footer"

      =render "feedback/feedback_modal"

      -# To make the default reference available in JS.
      -if current_user
        =render "shared/default_reference"
